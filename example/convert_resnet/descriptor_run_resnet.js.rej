***************
*** 11,33 ****
  }
  
  function log(msg) {
-     $('#messages').append('<br>').append(document.createTextNode(msg));
  }
  
  function load_image() {
      var img = new Image();
      img.onload = function() {
-         var ctx = $('#input_image')[0].getContext('2d');
          // shrink instead of crop
          ctx.drawImage(img, 0, 0, 224, 224);
          is_image_loaded = true;
-         $('#run_button').prop('disabled', false);
          log('Image loaded to canvas');
      }
      img.onerror = function () {
          log('Failed to load image');
      }
-     img.src = $("input[name=image_url]").val();
  }
  
  let flag_prepared = false;
--- 11,35 ----
  }
  
  function log(msg) {
+     let msg_node = document.getElementById('messages');
+     msg_node.appendChild(document.createElement('br'));
+     msg_node.appendChild(document.createTextNode(msg));
  }
  
  function load_image() {
      var img = new Image();
      img.onload = function() {
+         var ctx = document.getElementById('input_image').getContext('2d');
          // shrink instead of crop
          ctx.drawImage(img, 0, 0, 224, 224);
          is_image_loaded = true;
+         document.getElementById('run_button').disabled = false;
          log('Image loaded to canvas');
      }
      img.onerror = function () {
          log('Failed to load image');
      }
+     img.src = document.querySelector("input[name=image_url]").value;
  }
  
  let flag_prepared = false;
***************
*** 86,92 ****
  }
  
  function getImageData() {
-     let ctx = $('#input_image')[0].getContext('2d');
      let h = 224;
      let w = 224;
      let imagedata = ctx.getImageData(0, 0, h, w);//h,w,c(rgba)
--- 88,94 ----
  }
  
  function getImageData() {
+     let ctx = document.getElementById('input_image').getContext('2d');
      let h = 224;
      let w = 224;
      let imagedata = ctx.getImageData(0, 0, h, w);//h,w,c(rgba)
